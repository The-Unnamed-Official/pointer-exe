<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pointer.exe</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="noise-layer"></div>
    <div id="scanline-layer"></div>
    <main id="realm" aria-live="polite">
      <section id="menu" class="main-menu" aria-hidden="false">
        <div class="menu-backdrop" aria-hidden="true">
          <div class="menu-gradient"></div>
          <div id="glitch-field" class="glitch-field"></div>
        </div>
        <div class="menu-content">
          <header class="menu-title-block">
            <h1 class="menu-title" aria-label="pointer.exe">
              pointer<span class="title-exe" aria-hidden="true">.exe</span>
            </h1>
            <div class="fake-cursors" aria-hidden="true">
              <span class="fake-cursor fake-cursor--one"></span>
              <span class="fake-cursor fake-cursor--two"></span>
              <span class="fake-cursor fake-cursor--three"></span>
            </div>
          </header>
          <p class="menu-tagline">self-observing pointer interface</p>
          <div class="menu-actions" role="menu">
            <button class="menu-button" type="button" data-command="start">
              Start
            </button>
            <button
              class="menu-button secondary"
              type="button"
              data-command="preferences"
              aria-controls="preferences-panel"
              aria-expanded="false"
            >
              Preferances
            </button>
          </div>
        </div>
        <div
          id="preferences-panel"
          class="preferences-panel"
          hidden
          aria-hidden="true"
        >
          <div class="preferences-content">
            <h2>Preferances</h2>
            <p>Configuration options coming soon.</p>
            <button
              class="menu-button tertiary"
              type="button"
              data-command="close-preferences"
            >
              Close
            </button>
          </div>
        </div>
      </section>

      <div id="screen" role="application" aria-label="pointer.exe realm">
        <div id="ambient-text" aria-hidden="true"></div>
        <div id="lore-feed" role="log" aria-live="polite"></div>
        <div id="fragments" aria-hidden="true"></div>
        <div id="anomalies" aria-hidden="true"></div>
        <div id="anchors" aria-hidden="true"></div>
        <div id="hud" role="complementary" aria-label="interface status">
          <section class="hud-section" id="level-hud" aria-live="polite">
            <h2>level</h2>
            <p id="level-name">—</p>
            <p id="level-objective" class="objective">—</p>
          </section>
          <section class="hud-section" id="map-hud" aria-live="polite">
            <h2>map</h2>
            <ul id="map-grid"></ul>
          </section>
          <section class="hud-section" id="inventory-hud" aria-live="polite">
            <h2>inventory</h2>
            <ul id="inventory-list"></ul>
          </section>
          <section class="hud-section" id="story-hud" aria-live="polite">
            <h2>lore</h2>
            <div id="story-log"></div>
          </section>
        </div>
        <div id="edges" aria-hidden="true">
          <div class="edge edge-top"></div>
          <div class="edge edge-right"></div>
          <div class="edge edge-bottom"></div>
          <div class="edge edge-left"></div>
        </div>
        <div id="edge-warning" aria-hidden="true"></div>
        <div id="door-pattern" aria-hidden="true">
          <div class="pattern-lines"></div>
          <div class="pattern-glow"></div>
        </div>
        <div id="whispers" aria-live="polite"></div>
      </div>
    </main>

    <div id="flashlight-overlay" aria-hidden="true"></div>

    <dialog id="pause-overlay">
      <h2>breathe</h2>
      <p>the interface is paused. steady your vector.</p>
      <button data-action="resume">resume</button>
    </dialog>

    <dialog id="intro-dialog" aria-labelledby="intro-title">
      <h2 id="intro-title">initialization :: drift report</h2>
      <div class="dialog-body">
        <p>
          You wake in the calibration vault with the pointer already fused to your
          palm. The last memory is of volunteering to anchor the breach while the
          others sealed the exit behind you.
        </p>
        <p>
          The interface hums with a ghost copy of your intent, waiting for you to
          reclaim the fragments that prove you still belong to this reality.
        </p>
        <p>
          Stabilize the pointer, map the vault, and keep your signal from being
          rewritten.
        </p>
      </div>
      <div class="dialog-actions">
        <button class="menu-option secondary" data-action="skip-intro">
          skip
        </button>
        <button class="menu-option" data-action="begin-run">enter vault</button>
      </div>
    </dialog>

    <dialog
      id="erase-confirm-dialog"
      aria-labelledby="erase-confirm-title"
      aria-describedby="erase-confirm-copy"
    >
      <h2 id="erase-confirm-title">confirm data purge</h2>
      <p id="erase-confirm-copy">
        This will wipe stored preferences and reset the interface. Proceed?
      </p>
      <div class="dialog-actions">
        <button class="menu-option secondary" data-action="cancel-erase">
          cancel
        </button>
        <button class="menu-option danger" data-action="confirm-erase">
          purge data
        </button>
      </div>
    </dialog>

    <template id="fragment-template">
      <article class="fragment" tabindex="0">
        <div class="fragment-core"></div>
        <div class="fragment-progress"></div>
        <p class="fragment-text" aria-hidden="true"></p>
      </article>
    </template>

    <template id="anomaly-template">
      <div class="anomaly" aria-hidden="true">
        <div class="anomaly-core"></div>
      </div>
    </template>

    <template id="anchor-template">
      <div class="anchor" aria-hidden="true">
        <div class="anchor-ring"></div>
        <div class="anchor-core"></div>
      </div>
    </template>

    <script src="script.js" type="module"></script>
  </body>
</html>
